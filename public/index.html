<html>
  <head>
    <meta charset="utf-8" />
    <title>In-Site</title>
    <meta name="description" content="In-Site" />

    <link
      rel="shortcut icon"
      type="image/png"
      href="https://cdn.glitch.com/b82bb398-3ada-4af4-8aa4-d21adf3a10b0%2Ffavicon.png?v=1610373851856"
    />

    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.4.5/socket.io.min.js"></script>
    <script src="easyrtc/easyrtc.js"></script>
    <script src="https://unpkg.com/networked-aframe@^0.6.0/dist/networked-aframe.min.js"></script>

    <script src="https://unpkg.com/aframe-randomizer-components@^3.0.1/dist/aframe-randomizer-components.min.js"></script>
    <script src="https://unpkg.com/aframe-particle-system-component@1.0.5/dist/aframe-particle-system-component.min.js"></script>

    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.0/dist/aframe-extras.min.js"></script>

    <script src="/js/spawn-in-circle.component.js"></script>
    <script src="/js/update-rate.component.js"></script>

    <script src="https://cdn.rawgit.com/zcanter/aframe-gradient-sky/master/dist/gradientsky.min.js"></script>
    <script src="https://rawgit.com/mayognaise/aframe-gif-shader/master/dist/aframe-gif-shader.min.js"></script>

    <link rel="stylesheet" type="text/css" href="style.css" />

    <link
      href="https://fonts.googleapis.com/css2?family=Orbitron&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Poiret+One&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Lato&display=swap"
      rel="stylesheet"
    />

    <meta
      name="viewport"
      content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"
    />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="HandheldFriendly" content="true" />

    <!--<script>
      
      AFRAME.registerComponent('auto-mute', {
        schema: {},
        init: function () {
          let button = document.getElementById("myButton");
          let icon = document.getElementById("muteIcon");
          let audiortc = 0;
          easyrtc.enableMicrophone(false);
          console.log(audiortc);
          button.innerHTML = "Unmute";
          icon.src =
            "https://cdn.glitch.com/0e65d536-0425-4e6e-8059-1247674b938e%2Ficon-mute.png?v=1592505880753";
        }
        
      });
      
    </script>-->

    <script>
      AFRAME.registerComponent("position-reader", {
        /**
         * We use IIFE (immediately-invoked function expression) to only allocate one
         * vector or euler and not re-create on every tick to save memory.
         */

        init: function() {
          // Set up the tick throttling.
          this.tick = AFRAME.utils.throttleTick(this.tick, 4000, this);
        },

        tick: function() {
          let yPos = this.el.object3D.position.y;

          console.log(yPos);

          if (yPos > 110) {
            setTimeout(myclose, 5000);
            console.log("closing in 5");
          }

          function myclose() {
            window.close();
          }
        }
      });
    </script>

    <script>
      AFRAME.registerComponent("random-avatar", {
        schema: {},

        init: function() {
          let av1 =
            "https://cdn.glitch.com/e1ded323-c71c-45ea-ac7d-80b787abaaef%2Favatar.glb?v=1601057091379";
          let av2 =
            "https://cdn.glitch.com/e1ded323-c71c-45ea-ac7d-80b787abaaef%2Favatar2.glb?v=1601059578143";
          let av3 =
            "https://cdn.glitch.com/e1ded323-c71c-45ea-ac7d-80b787abaaef%2Favatar3.glb?v=1601059578478";
          var avatars = [av1, av2, av3];

          var randomSrc = avatars[Math.floor(Math.random() * avatars.length)];

          this.el.setAttribute("gltf-model", randomSrc);
        }
      });
    </script>

    <script>
      AFRAME.registerComponent("collision-trigger", {
        schema: {},

        init: function() {
          this.el.addEventListener("stateadded", event => {
            console.log("comienzo colision");
            console.log(event.detail);
            let port = event.detail;
            let overlay = document.querySelector('#exitOverlay');
            
            switch (port) {
                case "wood":
                  overlay.style.visibility = "visible";
                  overlay.style.opacity= '1';
                  window.setTimeout(function(){window.open("https://noir-mdwi7.ondigitalocean.app/woods.html", "_self")}, 2000);
                  
                  break;
                case "fire":
                  overlay.style.visibility = "visible";
                  overlay.style.opacity= '1';
                  window.setTimeout(function(){window.open("https://noirfire-oiqbg.ondigitalocean.app/fire.html", "_self")}, 2000);
              
                  break;
              }

            /*this.el.addEventListener("hitend", e => {
              console.log("fin colision");
              switch (port) {
                case "col1":
                  window.open("/underwater.html", "_self");
                  break;
                case "col2":
                  window.open("/woods.html", "_self");
                  break;
              }*/
            });
          
        }
      });
    </script>
    <script>
      AFRAME.registerComponent("radio-streaming", {
        schema: {},

        init: function() {
          let button = document.getElementById("enterButton");
          let visitRosie = document.querySelector('#roomRosie');
          let visitPatri = document.querySelector('#roomPatri');
          visitRosie.addEventListener("click", radioStream);
          visitPatri.addEventListener("click", radioStream);

          var el = this.el;
          var i;
          var sceneEl = this.el.sceneEl;
          var self = this;
          var sound;
          var radioEmitter = this.el.getObject3D("mesh");
          //console.log(radioEmitter);

          function radioStream() {
            //TAKEN FROM AFRAME SOUND COMPONENT

            // Only want one AudioListener. Cache it on the scene.
            var listener = (this.listener =
              sceneEl.audioListener || new THREE.AudioListener());
            sceneEl.audioListener = listener;

            if (sceneEl.camera) {
              sceneEl.camera.add(listener);
            }

            // Wait for camera if necessary.
            sceneEl.addEventListener("camera-set-active", function(evt) {
              evt.detail.cameraEl.getObject3D("camera").add(listener);
            });

            //MINE

            var audioElement = document.getElementById("music");

            /*var stream = new MediaStream("https://cdn.glitch.com/7a6793a5-b8c7-43cd-a82b-b98449c54afd%2FGROUP5.mp3?v=1601211078144");*/

            var positionalAudio = new THREE.PositionalAudio(listener);
            positionalAudio.setMediaElementSource(audioElement);
            /*positionalAudio.setMediaStreamSource(stream);*/
            positionalAudio.setVolume(1);
            positionalAudio.setRefDistance(5);
            positionalAudio.setRolloffFactor(10);
            //positionalAudio.setDirectionalCone(180, 230, 0.1);

            /*var helper = new PositionalAudioHelper(positionalAudio, 0.1);
      positionalAudio.add(helper);*/

            radioEmitter.add(positionalAudio);
          }
        }
      });
    </script>
    
    <script>
      AFRAME.registerComponent("radio-streaming-two", {
        schema: {},

        init: function() {
          let button = document.getElementById("enterButton");
          let visitRosie = document.querySelector('#roomRosie');
          let visitPatri = document.querySelector('#roomPatri');
          visitRosie.addEventListener("click", radioStream);
          visitPatri.addEventListener("click", radioStream);

          var el = this.el;
          var i;
          var sceneEl = this.el.sceneEl;
          var self = this;
          var sound;
          var radioEmitter = this.el.getObject3D("mesh");
          //console.log(radioEmitter);

          function radioStream() {
            //TAKEN FROM AFRAME SOUND COMPONENT

            // Only want one AudioListener. Cache it on the scene.
            var listener = (this.listener =
              sceneEl.audioListener || new THREE.AudioListener());
            sceneEl.audioListener = listener;

            if (sceneEl.camera) {
              sceneEl.camera.add(listener);
            }

            // Wait for camera if necessary.
            sceneEl.addEventListener("camera-set-active", function(evt) {
              evt.detail.cameraEl.getObject3D("camera").add(listener);
            });

            //MINE

            var audioElement = document.getElementById("music2");

            /*var stream = new MediaStream("https://cdn.glitch.com/7a6793a5-b8c7-43cd-a82b-b98449c54afd%2FGROUP5.mp3?v=1601211078144");*/

            var positionalAudio = new THREE.PositionalAudio(listener);
            positionalAudio.setMediaElementSource(audioElement);
            /*positionalAudio.setMediaStreamSource(stream);*/
            positionalAudio.setVolume(1);
            positionalAudio.setRefDistance(20);
            positionalAudio.setRolloffFactor(10);
            //positionalAudio.setDirectionalCone(180, 230, 0.1);

            /*var helper = new PositionalAudioHelper(positionalAudio, 0.1);
      positionalAudio.add(helper);*/

            radioEmitter.add(positionalAudio);
          }
        }
      });
    </script>
    
    <script>
      
      AFRAME.registerComponent('room-change', {
        
        schema:{},
        
        update: function(){
          
          let scene = document.querySelector('a-scene');
          let el = this.el;
          let avatar = document.querySelector('#avatar');
          
          scene.addEventListener('roomChange', function(event){
            
            let name = event.detail.name;
            if(name=="roomPatri"){
              console.log("changing to Patricia room");
              el.setAttribute('position', {x:50, y:1.3, z: 1000});
              //el.object3D.rotation.y = THREE.Math.degToRad(90);
              el.setAttribute('movement-controls', 'speed', 0.2);
              el.emit('resetorientation', {grad: 90});
              
            }else if(name=="roomRosie"){
              console.log("changing to Rosie room");
              el.setAttribute('position', {x:-94, y:-16, z: -1155});
              //el.object3D.rotation.y = THREE.Math.degToRad(0);
              el.setAttribute('movement-controls', 'speed', 0.6);
              el.emit('resetorientation', {grad: -150});
              
            }else{console.log("what are you talking about?")};
            
            
          });
          
        },
        
        /*greetRoom: function(room){
          let greeting = document.querySelector('#greeting');
          if(room=="red"){
            greeting.innerHTML = "Welcome to the red room, you creepy little piece of shit.";
            greeting.style.display = "block";
            greeting.style.color = room;
          } else if(room=="blue"){
            
            greeting.innerHTML = "Welcome to the blue room, your highness.";
            greeting.style.display = "block";
            greeting.style.color = room;
            
          }
          return;
        },*/
        
        
      });
    
    </script>
    
    <script>
    
    AFRAME.registerComponent('resetorientation', {
      init: function () {
        var el = this.el;
        el.addEventListener('resetorientation', function (event) {
          let grad = event.detail.grad;
          var y = el.querySelector('[camera]').getAttribute('rotation').y;
          el.setAttribute('rotation', {y: (-1 * y) + grad });
        });
      }
    });
    
    </script>
    
    
    
  </head>
  <body>
    <audio
      loop
      id="music"
      preload="auto"
      style="display: none"
      src="https://cors-anywhere.herokuapp.com/http://209.97.181.143/stream"
      crossorigin="anonymous"
    ></audio>
    <audio
      loop
      id="music2"
      preload="auto"
      style="display: none"
      src="https://cors-anywhere.herokuapp.com/http://209.97.181.143/stream"
      crossorigin="anonymous"
    ></audio>
    <div id="mainCont">
      
      <div id="scene">
        <a-scene
          vr-mode-ui="enterVRButton: #VRButton"
          networked-scene="
      room: audio;
      adapter: easyrtc;
      audio: true;
      debug: true;
    "
          update-rate
          loading-screen="enabled: false"
          
        >
          <a-assets>
            
            <!--ENTRANCE-->
            
            
            <!--PATRI-->
            <a-asset-item id="Patri" src="https://cdn.glitch.com/6654838e-daa6-4e95-9620-946466c36beb%2FintimacyTryout3.glb?v=1607520453389"></a-asset-item>
            <a-asset-item id="PatriAnim" src="https://cdn.glitch.com/6654838e-daa6-4e95-9620-946466c36beb%2FintimacyTryoutANIMCACHE8.glb?v=1608400309856"></a-asset-item>
            <a-asset-item id="Floor" src="https://cdn.glitch.com/6654838e-daa6-4e95-9620-946466c36beb%2FintimacyFloor1.glb?v=1608386745977"></a-asset-item>
            <a-asset-item id="Chair" src="https://cdn.glitch.com/6654838e-daa6-4e95-9620-946466c36beb%2FintimacyChair2.glb?v=1608390396914"></a-asset-item>
            <a-asset-item id="Radio" src="https://cdn.glitch.com/6654838e-daa6-4e95-9620-946466c36beb%2FintimacyRadio1.glb?v=1608390393648"></a-asset-item>

            <img id="sky" src="https://cdn.glitch.com/6654838e-daa6-4e95-9620-946466c36beb%2Fbackground.png?v=1608375857695">
            
            
            <!--ROSIE-->
            <a-asset-item
              id="test"
              src="https://cdn.glitch.com/f6b3d4a3-6904-47e6-a2ee-a94e639455bf%2FWMStest3.gltf?v=1608235117684"
            ></a-asset-item>

            <a-asset-item
              id="traytwo"
              src="https://cdn.glitch.com/f6b3d4a3-6904-47e6-a2ee-a94e639455bf%2Ftraytwo%20final-1glow.glb?v=1608236122301"
            ></a-asset-item>

            <a-asset-item
              id="trayone"
              src="https://cdn.glitch.com/f6b3d4a3-6904-47e6-a2ee-a94e639455bf%2FTrayone-1upload.glb?v=1608236874455"
            ></a-asset-item>

            <a-asset-item
              id="traytwo-2"
              src="https://cdn.glitch.com/f6b3d4a3-6904-47e6-a2ee-a94e639455bf%2FTraytwo-2upload%20white.glb?v=1608238081748"
            ></a-asset-item>
            
            
            <!--MUSIC
            
            <audio
              id="audio1"
              src="https://cdn.glitch.com/f44e7d0f-6299-4434-a136-b24515e92365%2Fre-532424__klankbeeld__forest-summer-roond-022-200619-0186.mp3?v=1604157785395"
            ></audio>
            <audio
              id="audio2"
              src="https://cdn.glitch.com/f44e7d0f-6299-4434-a136-b24515e92365%2FBinaural%20Nature%20Sound%20001.mp3?v=1604157792227"
            ></audio>
            
            <audio
              id="fireaudio"
              src="https://cdn.glitch.com/f44e7d0f-6299-4434-a136-b24515e92365%2Ffire%20portal.mp3?v=1604240453777"
            ></audio>
            
            <audio
              id="woodaudio"
              src="https://cdn.glitch.com/f44e7d0f-6299-4434-a136-b24515e92365%2Fwood%20portal.mp3?v=1604240454571"
            ></audio>-->
            
            <audio
              id="audioRosie"
              src="https://cdn.glitch.com/b82bb398-3ada-4af4-8aa4-d21adf3a10b0%2F11MB%20Sounding%20Matters%20-%20The%20System%20Erupts%20from%20wednesday.mp3?v=1610442790281"
            ></audio>
            
            <audio
              id="audioPatriRoad"
              src="https://cdn.glitch.com/b82bb398-3ada-4af4-8aa4-d21adf3a10b0%2Finsite_Calle.mp3?v=1610533619165"
            ></audio>
            
            <audio
              id="audioPatriTextile"
              src="https://cdn.glitch.com/b82bb398-3ada-4af4-8aa4-d21adf3a10b0%2Finsite_Textile.mp3?v=1610533618661"
            ></audio>
            
            <audio
              id="audioPatriConversation"
              src="https://cdn.glitch.com/b82bb398-3ada-4af4-8aa4-d21adf3a10b0%2Finsite_Conversation2LQ.mp3?v=1610549013844"
            ></audio>
            
            
            

            <!-- Templates -->

            <!-- Avatar -->
            <template id="player-template">
              <a-entity></a-entity>
            </template>

            <template id="head-template">
              <a-entity
                class="avatar"
                networked-audio-source="refDistance: 1; rolloffFactor: 2"
              >
                <a-entity class="camRig">
                  <!--<a-entity
                    position="0 -1.6 0"
                    rotation="0 90 0"
                    random-avatar
                    scale="1 1.3 1"
                  ></a-entity>-->
                  <a-sphere class="head" position="0 -0.5 0" material="color: #bdbdbd" scale="1 1 1">
                    <a-entity class="face" position="0 0.3 -0.5">
                            <a-sphere
                              class="eye"
                              color="#000"
                              position="0.3 0.1 -0.35"
                              scale="0.12 0.12 0.12"
                              segments-height="5"
                              segments-width="5"
                            ></a-sphere>
                            <a-sphere
                              class="eye"
                              color="#000"
                              position="-0.3 0.1 -0.35"
                              scale="0.12 0.12 0.12"
                              segments-height="5"
                              segments-width="5"
                            ></a-sphere>
                    </a-entity>
                  </a-sphere>
                  <a-entity
                    class="nametag"
                    text="value: you; align: center; width: 10; color: #bdbdbd"
                    position="0 0.95 0"
                    rotation="0 180 0"
                  ></a-entity>
                  <a-entity
                    class="chattext"
                    text="value: you; align: center; width: 3"
                    position="0 0.7 0"
                    rotation="0 180 0"
                  ></a-entity>
                </a-entity>
              </a-entity>
            </template>


          </a-assets>

          <a-entity
            id="player"
            networked="template:#player-template;attachTemplateToLocal:false;"
            movement-controls="speed: 0.2; fly: true"
            
            position="-1000 -1000 0"
            rotation="0 90 0"
            scale="1 1 1"
            room-change
            resetorientation
          >
            <a-entity
              id="avatar"
              networked="template:#head-template;attachTemplateToLocal:false;"
              camera="userHeight: 1.6"
              look-controls
              position="0 1.6 0"
            >
              <a-entity class="avatar" networked-audio-source></a-entity>
              <a-sphere class="head"></a-sphere>
              <a-sphere
                id="playerCollider"
                visible="false"
                scale="0.3 0.3 0.3"
                collision-trigger
              ></a-sphere>
              <a-entity class="nametag" text="value: "></a-entity>
              <a-entity class="chattext" text=""></a-entity>
            </a-entity>
          </a-entity>
          
          
          <!--ENTRANCE-->
          
          <a-sky color="black" segments-height="10" segments-width="16" scale="0.5 0.5 0.5" position="-1000 -1000 0"></a-sky>
          
          
          <!--PATRI-->
          <a-entity position="0 0 1000" scale="2 2 2">
            <a-entity
              light="color: white; intensity: 1; type: ambient;"
              visible=""
              position="0 6 0"
            ></a-entity>

            <!--<a-entity
              light="type: point;
                         color:#db6eff;
                         intensity: 5;
                         distance: 15"
              position="0 0 50"
            ></a-entity>

            <a-entity
              light="type: point;
                         color:#6efaff;
                         intensity: 5;
                         distance: 25"
              position="-20 7.5 1"
            ></a-entity>-->

            <a-sky
              src="#sky"
              rotation="0 -90 0"
              segments-height="10"
              segments-width="16"
              scale="1 1 1"
            ></a-sky>
            <a-entity id="particles" particle-system="preset: snow"></a-entity>



            <a-entity gltf-model="#PatriAnim" scale="10 10 10" position="0 32 0" animation-mixer="duration: 300; loop: pingpong"></a-entity>
            <!--<a-entity gltf-model="#Patri" scale="10 10 10" position="0 0 0"></a-entity>-->
            <a-entity gltf-model="#Floor" scale="10 10 10" position="0 32 0"></a-entity>
            <a-entity gltf-model="#Chair" scale="10 10 10" position="0 32 0"></a-entity>
            <a-entity gltf-model="#Radio" scale="10 10 10" position="0 32 0">
              
            </a-entity>
            
            <a-sphere
                radius="3"
                visible="false"
                position="0 32 0"
                sound="src: #audioPatriTextile; 
                      autoplay: true;
                      volume: 0.8;
                      loop: true;
                      refDistance: 15;
                      rolloffFactor: 5"
                animation="property: position; to: 0 0 0; dir: alternate; dur: 300000; easing: linear; loop: true"
            >
            </a-sphere>
            
            <a-sphere
              radius="3"
              position="25 5.3 0"
              visible="false"
              sound="src: #audioPatriRoad; 
                    autoplay: true;
                    volume: 0.2;
                    loop: true;
                    refDistance: 15;
                    rolloffFactor: 5"
            >
            </a-sphere>
            
            <a-sphere
                radius="1"
                position="-2.9 0 -2.1"
                visible="false"
                sound="src: #audioPatriConversation; 
                      autoplay: true;
                      volume: 0.3;
                      loop: true;
                      refDistance: 3;
                      rolloffFactor: 5"
              >
              </a-sphere>
            
            <a-entity
            
            
            position="0 0 0"
            
            ><a-sphere id="radio" visible="false" radio-streaming></a-sphere></a-entity>
          
          </a-entity>
          
          <!--ROSIE-->
          <a-entity position="0 0 -1000" scale="0.5 0.5 0.5">
            <!-- Models -->
            <!--green outside -->
            <a-entity
              gltf-model="#test"
              position="40 140 -167"
              scale="6 6 6"
            ></a-entity>

            <!-- small green \\ inside blue -->
            <a-entity
              gltf-model="#test"
              position="12 -45 -19"
              scale="0.6 0.6 0.6"
              rotation="0 0 0"
              animation="property: rotation; to: 0 360 0; loop: true; dur: 6000; easing:linear;"
            ></a-entity>

            <!-- big green \\ inside blue-->
            <a-entity
              gltf-model="#test"
              position="12 -45 -19"
              scale="1.5 1.5 1.5"
              rotation="0 0 0"
              animation="property: rotation; to: 0 -360 0; loop: true; dur: 30000; easing:linear;"
            ></a-entity>

            <!-- Orange 1 \\ inside blue -->
            <a-entity
              gltf-model="#traytwo"
              position="6 -100 -10"
              rotation="-20 6 -115"
              scale="15 15 15"
            ></a-entity>
            <!-- Orange 2 \\outside blue -->
            <a-entity
              gltf-model="#traytwo"
              position="150 60 -150"
              scale="60 60 60"
            ></a-entity>

            <!-- Big blue -->
            <a-entity
              gltf-model="#trayone"
              position="60 60 -60"
              scale="10 10 10"
              rotation="0 45 30"
            ></a-entity>
            
            <a-sphere
              radius="10"
              position="12 -45 -19"
              visible="false"
              sound="src: #audioRosie; 
                    autoplay: true;
                    volume: 0.5;
                    loop: true;
                    refDistance: 100;
                    rolloffFactor: 5"
            >
            </a-sphere>

            <!-- <a-entity light="type=point";
                      color: #FFFFFF;
                      intensity:"1";
                      distance:"5";
                      shadowCameraVisable: "true";></a-entity> -->

            <!-- small black sky 
            <a-sky scale="0.5 0.5 0.5" color="#000000"></a-sky>-->

            <!-- small white sky 
            <a-sky scale="1 1 1" color="#FFFFFF"></a-sky>-->

            <!-- big black sky -->
            <a-sky scale="2 2 2" color="#000000"></a-sky>


            <!-- text-1 -->
            <a-entity
              text="value: The System Erupts; width: 12; color:#FF5B03; align: center"
              position="0 0 890"
            ></a-entity>
            
            
            <a-entity
            
            
            position="25 140 -170"
            
            ><a-sphere id="radio2" visible="false" radio-streaming-two></a-sphere></a-entity>
          
          </a-entity>
          
        </a-scene>
      </div>
      
      

      <div id="ingameUItop">
        <!--<button id="myButton">Mute!</button> -->
        <div id="topLeft">
          <div class="ingameIcon" id="muteBack">
            
          </div>
          <img
            class="ingameIcon"
            id="muteIcon"
            src="https://cdn.glitch.com/f44e7d0f-6299-4434-a136-b24515e92365%2Fmaikefeng-jingyin-2.png?v=1603802144461"
            crossorigin="anonymous"
          />
          <button class="UIbutton" id="myButton" onclick="toggleMic()">
            Mute
          </button>
          <img
            class="ingameIcon"
            id="bottopIcon"
            src="https://cdn.glitch.com/b82bb398-3ada-4af4-8aa4-d21adf3a10b0%2F%E7%BC%96%E7%BB%84%209.png?v=1609587718016"
            crossorigin="anonymous"
          />
          <input
            class="input"
            id="userName"
            placeholder="Write your new Username here!"
            style="display: none"
          />
          <button class="UIbutton" id="changeButton" onclick="changeUsername()">
            Change Username
          </button>
          <a href="/faq.html" target="_blank">
            <img
              class="ingameIcon"
              id="bottopFAQ"
              src="https://cdn.glitch.com/b82bb398-3ada-4af4-8aa4-d21adf3a10b0%2FInformation%20icon.png?v=1610373853566"
              title="Open FAQs"
              crossorigin="anonymous"
            />
          </a>
        </div>
        <img
          id="VRButton"
          class="ingameIcon"
          title="Enter VR Mode"
          src="https://cdn.glitch.com/f44e7d0f-6299-4434-a136-b24515e92365%2FVR.png?v=1603642471053"
          crossorigin="anonymous"
        />
        
        <div id="roomDescription" style="position: absolute; left: 0; display: flex; flex-direction: column; top: 5vh;">
          <div id="artistNameCont" style="position: relative; color: blue; height: 50px; margin: 10px; cursor:default; z-index: 2000; opacity: 0.6; display: inline-flex; align-items: center;" title="Click here to know more about the artist!" onclick="visitWebsite(this)">
            <img id="linkDescription" class="ingameIcon" src="https://cdn.glitch.com/b82bb398-3ada-4af4-8aa4-d21adf3a10b0%2F%E7%BC%96%E7%BB%84mod.png?v=1609602004088" crossorigin="anonymous"/>
            <p id="artistName"></p>
          </div>
          
          <div id="artistDescriptionCont" style="position: relative; display: none; left: 40px; width: 20vw; font-size: 3px; background: rgba(0, 0, 0, 0.44); border-radius: 20px; z-index: -3000">
            <p id="artistDescription" style="font-size: 0.8rem; padding: 10px;"></p>
          </div>
        </div>
        
        <div id="roomButton" title="Visit the other room!" style="position: absolute; right: 0; top: 50vh; transform: translateY(-50%); background: #4d4d4d; display: none; cursor:default; border-radius: 20px 0px 0px 20px; padding: 0px 20px 0px 15px; align-items: center" onclick="toggleRoom()">
          <p>
            To another<br>room
          </p>
          <img id="arrowRooms" src="https://cdn.glitch.com/b82bb398-3ada-4af4-8aa4-d21adf3a10b0%2F%E7%BC%96%E7%BB%84%2010.png?v=1609602367068" crossorigin="anonymous" style="position: absolute; height:30px; width: auto; right: 0;"/>
        </div>
        
      </div>

      <div id="ingameUIbottom">
        <div id="chatDiv">
          <img
            class="ingameIcon"
            id="chatIcon"
            src="https://cdn.glitch.com/f44e7d0f-6299-4434-a136-b24515e92365%2Fchat%20icon.png?v=1603642470653"
            crossorigin="anonymous"
          />
          <input class="input" id="chatBox" placeholder="Here to chat!" />
          <button class="UIbutton" onclick="sendMessage()">
            Send
          </button>

          <img
            id="FSbutton"
            class="UIbutton"
            title="Enter Fullscreen Mode"
            src="https://cdn.glitch.com/f44e7d0f-6299-4434-a136-b24515e92365%2Ffullscreen.png?v=1603642470542"
            onclick="toggleFullScreen()"
            crossorigin="anonymous"
          />
          <!--<p id="toggleFS">
            Toggle Fullscreen Mode
          </p>-->
          <!--<img
            id="flybutton"
            class="UIbutton"
            title="Toggle Fly Mode"
            src="https://cdn.glitch.com/7d891b71-2ddb-4312-834c-61fd5d15488c%2FFly2.png?v=1593781464606"
            onclick="fly()"
            crossorigin="anonymous"
          />-->
          <!--<input
            class="input"
            id="chatCenter"
            placeholder="Here to message everybody!"
          />
          <button class="UIbutton" onclick="sendMessageCenter()">
            SPAM THOSE MOTHERFUCKERS
          </button>-->
        </div>
        <div id="bottomCorner">
          <img
            id="ingameLogo"
            src="https://cdn.glitch.com/b82bb398-3ada-4af4-8aa4-d21adf3a10b0%2FIN-SITE.png?v=1609585445220"
            crossorigin="anonymous"
          />
          <img
            class="ingameIcon"
            id="botbottomIcon"
            src="https://cdn.glitch.com/b82bb398-3ada-4af4-8aa4-d21adf3a10b0%2F%E7%BC%96%E7%BB%84%209.png?v=1609587718016"
            crossorigin="anonymous"
          />
          <p id="bottomUsername">
            Username
          </p>
        </div>
      </div>

      <div id="enter">
        <div id="enterMenu">
          <div id="enterBack"></div>
          <img
            id="logoEnter"
            src="https://cdn.glitch.com/b82bb398-3ada-4af4-8aa4-d21adf3a10b0%2FIN-SITE.png?v=1609585445220"
            crossorigin="anonymous"
          />
          <!--<h1 id="title">
            PH706
          </h1>
          <img id="subtitle" src="https://cdn.glitch.com/f44e7d0f-6299-4434-a136-b24515e92365%2Ficons-18.png?v=1603653286077" />-->
          
          <div id="textExhibition" style="width: 50vw; text-align: center; background: rgba(0,0,0,0.2); margin: 30px 0px; border-radius: 20px;">
            <p style="line-height: 30px; font-weight: bold; font-size: 1.3rem;">
              15/01/2021 - 29/01/2021  
              <br>
              <br>Welcome to our first virtual exhibition,
              <br>by artists Patricia Mascarell and Rosie Hook.
            </p>
          </div>

          <div id="instructions">
            <div class="instructionInline">
              <img
              class="iconEnter"
              id="headphoneIcon"
              src="https://cdn.glitch.com/b82bb398-3ada-4af4-8aa4-d21adf3a10b0%2F05.png?v=1609585445643"
              crossorigin="anonymous"
              />
              <img class="textInstruction" src="https://cdn.glitch.com/b82bb398-3ada-4af4-8aa4-d21adf3a10b0%2FPlease%20enter%20with%20Ch.png?v=1609585697725"/>
            </div>
            
            <div class="instructionInline">
              <img
              class="iconEnter"
              id="arrowIcon"
              src="https://cdn.glitch.com/b82bb398-3ada-4af4-8aa4-d21adf3a10b0%2F09.png?v=1609585445513"
              crossorigin="anonymous"
              />
              <img class="textInstruction" src="https://cdn.glitch.com/b82bb398-3ada-4af4-8aa4-d21adf3a10b0%2FUse%20W.S.A.D%20keys%20(or.png?v=1609585697822"/>
            </div>
            
            <div class="instructionInline">
              <img
              class="iconEnter"
              id="micIcon"
              src="https://cdn.glitch.com/b82bb398-3ada-4af4-8aa4-d21adf3a10b0%2F%E7%BC%96%E7%BB%84.png?v=1609585445026"
              crossorigin="anonymous"
              />
              <img class="textInstruction" src="https://cdn.glitch.com/b82bb398-3ada-4af4-8aa4-d21adf3a10b0%2FPlease%20allow%20the%20mic.png?v=1609585697666"/>
            </div>
            
          </div>

          <div id="enterName">
            <input
              id="firstUsername"
              type="text"
              class="enterContent"
              placeholder="Write your Username here!"
              tabindex="1"
            />
            <button
              id="enterButton"
              class="enterContent"
              onclick="checkUsername()"
            >
              To exhibition!
            </button>
          </div>
          
          <div id="copyright" style="position: absolute; bottom: -9vh;">
            <p style="font-size: 0.7rem">
              ©️2021 Maia, All rights reserved.
            </p>            
          </div>
          
        </div>
        <div id="enterBottomCorner">
          
        
        <a href="https://www.instagram.com/maiadigital.world/" target="_blank">
          <img
            class="maiaSiteLogo"
            src="https://cdn.glitch.com/b82bb398-3ada-4af4-8aa4-d21adf3a10b0%2Flogo-MAIA.png?v=1610378906412"
            crossorigin="anonymous"
          />
        </a>
        <a class="instaLogo" href="https://www.instagram.com/maiadigital.world/" target="_blank">
          <img
            class="instaLogo"
            src="https://cdn.glitch.com/0e65d536-0425-4e6e-8059-1247674b938e%2Finstagram-3.png?v=1592566394569"
            crossorigin="anonymous"
          />
        </a>
        </div>
        
      </div>
      
      <div id="enterOverlay">
        
      </div>
      
      <div id="descriptions">
        <div id="descriptionBack"></div>
        <div id="patriIntro" class="introDescriptions">
          <div class="introNameContainer"><p>Patricia Mascarell</p></div>
          <p class="introDescText">
              Is intimacy voluntary? Can intimacy be designed? 
              <br>My work is an approach to my own ideas of the unknown while describing a pattern; a way of hacking a system.
              <br>Some time ago I decided I wanted to measure my levels of intimacy and use that outcome as a pattern for a textile that I could feel. At that time I was in a long distance relationship and I had the need of transforming it into something physical.
              <br>By playing with the line between rationality and irrationality I attempted to make visible and touchable things that are not.
              <br>These days, when it seems that most of us have long distance relationships with everybody but the people we live with, it was important for me to revisit this project through the digital.
          </p>
          <div id="roomPatri" class="introVisit">
            <p class="visitText">
              Loading
            </p>
          </div>
        </div>
        
        <div id="rosieIntro" class="introDescriptions">
          <div class="introNameContainer"><p>Rosie Hook</p></div>
          <p class="introDescText">
              My practice is concerned with the state of constant flux and impermanence, which is visualised through mutating organic forms.
              <br>
              Originating from plastic sculptural works, these have been superimposed into a digital dimension. Ultimately, the forms  act not as individual elements, but as a condition, a tension between material and the immaterial. 
              <br>
              Moving from a three-dimensional model into a digital space acts as a reordering of energy to create new visual information.
              <br>
              You are invited to explore and move about the space to engage with the changing environment.
              <br><br>
              Audio by Nela Pietrová - Sounding Matters - The System Erupts
          </p>
          <div id="roomRosie" class="introVisit">
            <p class="visitText">
              Loading
            </p>
          </div>
        </div>
        
        <div id="loadingFAQ">
          <a href="/faq.html" target="_blank" style="text-decoration: none;">
            <p>
              If the page is taking too long to load, click here to look at the FAQs.
            </p>
          </a>
        </div>
      </div>
    
      
      <div id="exit">
        <div id="exitOverlay">
          
        </div>
      </div>
      
      <div id="dateOverlay">
      
        <img id="insiteLogoOpening"
             src="https://cdn.glitch.com/b82bb398-3ada-4af4-8aa4-d21adf3a10b0%2FIN-SITE.png?v=1609585445220"
             crossorigin="anonymous"/>
        <p style="top: 50px; opacity: 0.5;">
          The event starts on the 14th January at 19.00 pm GMT.
        </p>
        <img id="maiaLogoOpening"
             src="https://cdn.glitch.com/b82bb398-3ada-4af4-8aa4-d21adf3a10b0%2Flogo-MAIA.png?v=1610378906412"
             crossorigin="anonymous"/>
        
      
      </div>
      
    </div>
    
    <script>
    
      window.addEventListener('load', function(){
        
        let enterFade = document.getElementById('enterOverlay');
        
        enterFade.style.opacity = '0';
        enterFade.addEventListener('transitionend', () => {enterFade.style.visibility = 'hidden';});
      });
      
    </script>

    <!--<script>
    
      document.getElementById('centerPiece').addEventListener('loaded', function () {
        toggleMic();
      })
    
    </script>-->

    <!--SCHEMAS & MOBILE -->
    <script>
      // On mobile remove elements that are resource heavy
      var isMobile = AFRAME.utils.device.isMobile();
      var isVR = AFRAME.utils.device.checkHeadsetConnected();

      if (isMobile || isVR) {
        var particles = document.getElementById("particles");
        particles.parentNode.removeChild(particles);

        let light1 = document.getElementById("light1");
        light1.parentNode.removeChild(light1);

        let light2 = document.getElementById("light2");
        light2.parentNode.removeChild(light2);

        let light3 = document.getElementById("light3");
        light3.parentNode.removeChild(light3);

        let light4 = document.getElementById("light4");
        light4.parentNode.removeChild(light4);

        /*let scene = document.querySelector('a-scene');
        let entities = scene.querySelectorAll('.animated');
        console.log(entities);
        /*entities.removeAttribute('animation');
        
        /*let animation = entities.getAttribute('animation').enabled;
        console.log(entities);
        animation.setAttribute('animation', 'enabled', false);
        
        let animationDouble = document.querySelectorAll('.doubleAnimated');
        animationDouble.setAttribute('animation', 'enabled', false);
        animationDouble.setAttribute('animation__2', 'enabled', false);*/
      }

      // Define custom schema for syncing avatar color, set by random-color
      NAF.schemas.add({
        template: "#head-template",
        components: [
          "position",
          "rotation",
          {
            selector: ".avatar",
            component: "networked-audio-source",
            property: "refDistance"
          },
          {
            selector: ".nametag",
            component: "text",
            property: "value"
          },
          {
            selector: ".chattext",
            component: "text",
            property: "value"
          },
          {
            selector: ".head",
            component: "material",
            property: "color"
          }
        ]
      });

      NAF.schemas.add({
        template: "#player-template",
        components: ["position", "rotation", "scale"]
      });
    </script>

    <!--AUDIO ICON -->
    <script>
      let button = document.getElementById("myButton");
      let icon = document.getElementById("muteIcon");
      let micBack = document.getElementById('muteBack');
      let audiortc = 1;
      console.log(audiortc);

      /*function checkMic() {
        if (audiortc == 0) {
          easyrtc.enableMicrophone(false);
          sessionStorage.setItem("audiortc", 0);
          audiortc = 0;
          console.log(audiortc);
          button.innerHTML = "Unmute";
          icon.src =
            "https://cdn.glitch.com/f44e7d0f-6299-4434-a136-b24515e92365%2Fmaikefeng-jingyin-2.png?v=1603802144461";
        } else {
          easyrtc.enableMicrophone(true);
          sessionStorage.setItem("audiortc", 1);
          audiortc = 1;
          console.log(audiortc);
          button.innerHTML = "Mute";
          icon.src =
            "https://cdn.glitch.com/f44e7d0f-6299-4434-a136-b24515e92365%2Fmaikefeng-2.png?v=1603802144461";
        }
      }*/
      
      function toggleMic() {
        if (audiortc == 1) {
          easyrtc.enableMicrophone(false);
          audiortc = 0;
          console.log(audiortc);
          button.innerHTML = "Unmute";
          icon.src =
            "https://cdn.glitch.com/f44e7d0f-6299-4434-a136-b24515e92365%2Fmaikefeng-jingyin-2.png?v=1603802144461";
          micBack.style.display = "none";
        } else {
          easyrtc.enableMicrophone(true);
          audiortc = 1;
          console.log(audiortc);
          button.innerHTML = "Mute";
          icon.src =
            "https://cdn.glitch.com/f44e7d0f-6299-4434-a136-b24515e92365%2Fmaikefeng-2.png?v=1603802144461";
          micBack.style.display = "block";
        }
      }
    </script>

    <!--USERNAME-->
    <script>
      //let username = prompt("What's you name mtf", "default");

      let username = sessionStorage.getItem("username");
      console.log("your username is " + username);

      let player = document.getElementById("player");
      let nametag = player.querySelector(".nametag");
      //nametag.setAttribute('text', 'value', username);

      let yourName = document.getElementById("userName");
      let bottomName = document.getElementById("bottomUsername");

      //let greeting = document.getElementById("subtitle");
      //greeting.innerHTML += " " + username + ".";
      
      
      console.log("firstInput = " + username);
      
      if (username != ("" || null)){
      
        document.getElementById("firstUsername").setAttribute("placeholder", username);
      
      };
      
      //CHECK IF USERNAME IS NOT ADMIN
      function checkUsername(){
        
        var firstInput = document.getElementById("firstUsername").value;
        
        if(firstInput == "artist"){
          let person = prompt("Please enter password", "Harry Potter");
          if(person == "GoldPH"){
            //console.log('You guessed it');
            changeUsernameFirst();
            resizeAvatar();
          }else{
            //console.log('Nope')
          };
        }else{
          changeUsernameFirst();
        }
        
      };
      
      
      //PASS USERNAME UPON ENTERING
      function changeUsernameFirst() {
        
        var firstInput = document.getElementById("firstUsername").value;
        
        let uitop = document.getElementById("ingameUItop");
        let uibottom = document.getElementById("ingameUIbottom");

        var enter = document.getElementById("enter");
        let descriptionsEnter = document.querySelector('#descriptions');
        
        if (firstInput != ""){
      
          
          sessionStorage.setItem("username", firstInput);
          
          nametag.setAttribute("text", "value", firstInput);


          yourName.setAttribute("placeholder", firstInput);
          bottomName.innerHTML = firstInput;
          enter.style.display = "none";
          uitop.style.display = "flex";
          uibottom.style.display = "flex";
          descriptionsEnter.style.display = "flex";
        }else{
        

          nametag.setAttribute("text", "value", username);


          yourName.setAttribute("placeholder", username);
          bottomName.innerHTML = username;
          enter.style.display = "none";
          uitop.style.display = "flex";
          uibottom.style.display = "flex";
          descriptionsEnter.style.display = "flex";
        };

        
      }

      
      //RECALCULATE USERNAME
      function changeUsername() {
        let userName = document.getElementById("userName");
        var input = userName.value;
        var visible = userName.style.display;

        if (visible == "none") {
          console.log(visible);
          userName.style.display = "inline";
        } else {
          console.log(visible);
          nametag.setAttribute("text", "value", input);
          bottomName.innerHTML = input;
          userName.style.display = "none";
          sessionStorage.setItem("username", input);
          console.log("your username is " + input);
        }
      }
    </script>

    <!--CHAT-->
    <script>
      let chattext = player.querySelector(".chattext");

      let chatBox = document.getElementById("chatBox");

      function sendMessage() {
        let message = chatBox.value;
        chattext.setAttribute("text", "value", message);

        chatBox.value = "";
        setTimeout(function deleteMessage() {
          chattext.setAttribute("text", "value", "");
        }, 4000);
      }
    </script>

    <!-- CENTER SPAM -->

    <!--<script>
      

      function sendMessageCenter() {
        
        var centerMessage = document.querySelectorAll(".centerMessage");

      let chatCenter = document.getElementById("chatCenter");
        
        for (var i = 0; i < centerMessage.length; i++) {
        console.log(centerMessage.length);

        let messageCenter = chatCenter.value;
        centerMessage[i].setAttribute("text", "value", messageCenter);

        chatCenter.value = "";
        setTimeout(function deleteMessage() {
          centerMessage.setAttribute("text", "value", "");
        }, 4000);
      };
      };
    </script>-->

    <!-- FULL SCREEN -->
    <script>
      function toggleFullScreen() {
        var doc = window.document;
        var docEl = doc.documentElement;

        var requestFullScreen =
          docEl.requestFullscreen ||
          docEl.mozRequestFullScreen ||
          docEl.webkitRequestFullScreen ||
          docEl.msRequestFullscreen;
        var cancelFullScreen =
          doc.exitFullscreen ||
          doc.mozCancelFullScreen ||
          doc.webkitExitFullscreen ||
          doc.msExitFullscreen;

        let FSbutton = document.getElementById("FSbutton");

        if (
          !doc.fullscreenElement &&
          !doc.mozFullScreenElement &&
          !doc.webkitFullscreenElement &&
          !doc.msFullscreenElement
        ) {
          requestFullScreen.call(docEl);
          
        } else {
          cancelFullScreen.call(doc);
          
        }
      }
    </script>
    
    <!--TELETRANSPORTATION-->
    
    <script>
      
      let scene = document.querySelector('a-scene');
      let descriptionsEnter = document.querySelector('#descriptions');
      
      
      var name;
      
      var room;
      
      var audioElement = document.getElementById("music");
      var audioElement2 = document.getElementById("music2");
      
      function chooseRoomRosie(){
                       
                
        let eventRoom = new CustomEvent("roomChange", {detail: { name: "roomRosie" }});
        room = "roomRosie";
        
        scene.dispatchEvent(eventRoom);
        //console.log("dispatched");
        descriptionsEnter.style.display = "none";
        roomButton.style.display = "flex";
        audioElement.play();
        audioElement2.play();
        
      }
      
      function chooseRoomPatri(){
                       
                
        let eventRoom = new CustomEvent("roomChange", {detail: { name: "roomPatri" }});
        room = "roomPatri";
        
        scene.dispatchEvent(eventRoom);
        //console.log("dispatched");
        descriptionsEnter.style.display = "none";
        roomButton.style.display = "flex";
        audioElement.play();
        audioElement2.play();
        
      }
      
      function toggleRoom(){
        
        if(room == "roomPatri"){
          room = "roomRosie";
        }else{room = "roomPatri"};
               
        let eventRoom = new CustomEvent("roomChange", {detail: { name: room }});
        
        
        scene.dispatchEvent(eventRoom);
        //console.log("dispatched");
        
        
      }
      
      scene.addEventListener('roomChange', function(event){
        let name = event.detail.name;
        let artistName = document.querySelector('#artistName');
        let artistDescription = document.querySelector('#artistDescription');
        
        if(name=="roomPatri"){
          artistName.innerHTML = "Patricia Mascarell";
          artistDescription.innerHTML = "Is intimacy voluntary? Can intimacy be designed?<br>My work is an approach to my own ideas of the unknown while describing a pattern; a way of hacking a system.<br>Some time ago I decided I wanted to measure my levels of intimacy and use that outcome as a pattern for a textile that I could feel. At that time I was in a long distance relationship and I had the need of transforming it into something physical.<br>By playing with the line between rationality and irrationality I attempted to make visible and touchable things that are not.<br>These days, when it seems that most of us have long distance relationships with everybody but the people we live with, it was important for me to revisit this project through the digital."
        } else if(name=="roomRosie"){
          artistName.innerHTML = "Rosie Hook";
          artistDescription.innerHTML = "My practice is concerned with the state of constant flux and impermanence, which is visualised through mutating organic forms.<br>Originating from plastic sculptural works, these have been superimposed into a digital dimension. Ultimately, the forms act not as individual elements, but as a condition, a tension between material and the immaterial.<br>Moving from a three-dimensional model into a digital space acts as a reordering of energy to create new visual information.<br>You are invited to explore and move about the space to engage with the changing environment.<br><br>Audio by Nela Pietrová - Sounding Matters - The System Erupts";
        }
        


      });
      
      /*scene.addEventListener('roomChange', function(event){
        let name = event.detail.name;
        let greeting = document.querySelector('#greeting');
        if(name=="red"){
          greeting.innerHTML = "Welcome to the red room, you creepy little piece of shit.";
          greeting.style.display = "block";
          greeting.style.color = name;
        } else if(name=="blue"){

          greeting.innerHTML = "Welcome to the blue room, your highness.";
          greeting.style.display = "block";
          greeting.style.color = name;

        }
        


      });*/
    
    </script>
    
    
    <!--SHOW ARTIST DESCRIPTION ON SCENE-->
    <script>
    
      let artistButton = document.querySelector('#artistName');
      let descriptionArtist = document.querySelector('#artistDescriptionCont');
      
      artistButton.addEventListener('mouseover', function(){
        //patriDesc.style.visibility = "visible";
        descriptionArtist.style.display = "block";
        console.log('Showing Description');
      });
      
      artistButton.addEventListener('mouseout', function(){
        //patriDesc.style.visibility = "hidden";
        descriptionArtist.style.display = "none";
      });
      
      
      let artistName = document.querySelector('#artistNameCont');
      
      function visitWebsite(elmnt){
        let artistWho = artistButton.innerHTML;
        
        if(artistWho == "Patricia Mascarell"){
          console.log("going to Patricias website");
          window.open("https://patriciamascarell.com/", '_blank');
        }else if(artistWho == "Rosie Hook"){
          console.log("going to Rosies website");
          window.open("https://www.rosiehook.com/", '_blank');
        }else{console.log("what?")};
        
      }
    
    
    </script>
    
    
    <!--DATE OPENING-->
    <script>
    
      var timeDif = new Date(2021, 0, 14, 18, 59).getTime() - Date.now();
      
      if(timeDif>0){
        
        var timeout = setTimeout(function(){
          document.querySelector('#dateOverlay').style.display = "none";
          console.log("Open!");
        }, timeDif);
        console.log("You need to wait!");
        
      }else{document.querySelector('#dateOverlay').style.display = "none"; console.log("Open!");};
      
      
    
    </script>
    
    <!--UPDATE ADMIN AVATAR-->
    <script>
    
      function resizeAvatar(){
        
        let player = document.getElementById('player');
        
        player.setAttribute('scale', {x:1.2, y:1.2, z:1.2});
        
        let head = document.querySelector(".head");
        
        head.setAttribute('material', 'color', '#fffee6');
        
      }
      
    
    </script>
    
    
    <!--LOADING-->
    <script>
    
      let visitText = document.getElementsByClassName('visitText');
      let visitRosie = document.querySelector('#roomRosie');
      let visitPatri = document.querySelector('#roomPatri');
      let descriptionBack = document.querySelector('#descriptionBack');
      let visitButton = document.getElementsByClassName('introVisit');
      

      if (scene.hasLoaded) {
        run();
      } else {
        scene.addEventListener('loaded', run);
        window.setTimeout(function(){
          document.querySelector('#loadingFAQ').style.display = "block";
        }, 30000);
      }
      
      function run(){
        
        for(let i=0; i<visitText.length; i++){
          visitText[i].innerHTML = "VISIT";
          visitText[i].style.cursor = "pointer";
          visitText[i].style.opacity = "1";
        };
        for(let i=0; i<visitButton.length; i++){
          
          visitButton[i].style.opacity = "1";
        };
        visitRosie.addEventListener("click", chooseRoomRosie.bind());
        visitPatri.addEventListener("click", chooseRoomPatri.bind());
        descriptionBack.style.display = "none";
        document.querySelector('#loadingFAQ').style.display = "none";
        window.setTimeout(function(){
          toggleMic();
        }, 2000);
      }
      
      
      
    
    
    </script>

    <!-- FLY 
    <script>
      function fly() {
        let flyMode = player.getAttribute("movement-controls").fly;
        console.log(flyMode);

        if (flyMode == false) {
          player.setAttribute("movement-controls", "fly", true);
        } else {
          player.setAttribute("movement-controls", "fly", false);
        }
      }
    </script>-->
  </body>
</html>
